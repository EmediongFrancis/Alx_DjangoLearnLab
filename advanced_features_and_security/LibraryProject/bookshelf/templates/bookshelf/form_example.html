<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Form Example</title>
</head>
<body>
    <h1>Secure Form Example</h1>
    <p>This form demonstrates security best practices:</p>
    <ul>
        <li>CSRF token protection</li>
        <li>Django form validation</li>
        <li>Input sanitization</li>
        <li>XSS protection through auto-escaping</li>
    </ul>
    
    <!-- Secure form with CSRF token -->
    <!-- The CSRF token protects against Cross-Site Request Forgery attacks -->
    <form method="post">
        {% csrf_token %}
        
        <!-- Display form errors -->
        {% if form.errors %}
            <div class="errors">
                <p>Please correct the errors below:</p>
                {{ form.errors }}
            </div>
        {% endif %}
        
        <!-- Django form fields automatically escape output and validate input -->
        <p>
            <label for="{{ form.title.id_for_label }}">{{ form.title.label }}:</label>
            {{ form.title }}
            {% if form.title.errors %}
                <span class="error">{{ form.title.errors }}</span>
            {% endif %}
        </p>
        
        <p>
            <label for="{{ form.author.id_for_label }}">{{ form.author.label }}:</label>
            {{ form.author }}
            {% if form.author.errors %}
                <span class="error">{{ form.author.errors }}</span>
            {% endif %}
        </p>
        
        <p>
            <label for="{{ form.publication_year.id_for_label }}">{{ form.publication_year.label }}:</label>
            {{ form.publication_year }}
            {% if form.publication_year.errors %}
                <span class="error">{{ form.publication_year.errors }}</span>
            {% endif %}
            {% if form.publication_year.help_text %}
                <small>{{ form.publication_year.help_text }}</small>
            {% endif %}
        </p>
        
        <button type="submit">Submit</button>
    </form>
    
    <h2>Security Features Demonstrated:</h2>
    <ol>
        <li><strong>CSRF Protection</strong>: The {% csrf_token %} tag generates a unique token that prevents CSRF attacks.</li>
        <li><strong>Input Validation</strong>: Django forms validate all input before processing.</li>
        <li><strong>Auto-Escaping</strong>: All template output is automatically escaped to prevent XSS.</li>
        <li><strong>SQL Injection Prevention</strong>: Django ORM uses parameterized queries.</li>
    </ol>
</body>
</html>

